{% extends 'base.html' %}

{% block content %}

<div class="container py-3">
    <div class="row">
        <div class="mx-auto col-sm-6">
            <h1>
                <span style="width: 100%;" class="badge badge-info">{{question.quiz.title}}</span>
            </h1>

                <form action="{% url 'choose_question' question.quiz.id %}" method="POST" id="query" autocomplete="off">
                    {% csrf_token %}
                    <div class="row">
                        
                        <div class="col-5 form-group">
                                <label for="sel1">Question Number </label>
                        </div>

                        <div class="col-3 form-group">
                                <select class="form-control" id="question" name="question">

                                    {% for i in range %}
                                        <option value="{{ i }}" {% if i == question.order_num %} selected="selected" {% endif %}>
                                            {{ i }}
                                        </option>
                                    {% endfor %}

                                </select>
                        </div>

                        <div class="col-4 form-group">
                            <button type="submit" class="btn btn-success btn-block" id="submit">Query</button>
                        </div>
                    </div>
                </form>

            <div class="card">

                  

                <div class="card-body">
                    <form action="{% url 'add_or_update_question' question.quiz.id question.id %}" method="POST" autocomplete="off">
                        {% csrf_token %}

                        <div class="form-group">
                            <div class="col">
            
                                <!-- Errors - order_num -->
                                {% if form.quiz.errors %}
                                <label class="alert alert-danger">{{ form.quiz.errors }}</label> {% endif %}
                                <label>ORDER NUMBER</label>
                                <!-- Form field - order_num -->
                                <input type="text" placeholder="ORDER NUMBER" class="form-control" name="order_num" id="order_num" value="{{question.order_num}}" required>
            
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col">
            
                                <!-- Errors - Question -->
                                {% if form.quiz.errors %}
                                <label class="alert alert-danger">{{ form.quiz.errors }}</label> {% endif %}
                                <label>Question</label>
                                <!-- Form field - RANK -->
                                <input type="text" placeholder="Question" class="form-control" name="question" id="question" value="{{question.question}}" required>
            
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col">
            
                                <!-- Errors - RANK -->
                                {% if form.quiz.errors %}
                                <label class="alert alert-danger">{{ form.quiz.errors }}</label> {% endif %}
                                <label>Answer</label>
                                <!-- Form field - RANK 
                                <input type="text" placeholder="Answer" class="form-control" name="answer" id="answer" value="{{question.answer}}" required>
                                -->
                                <select class="form-control" id="answer" name="answer" >
                                    <option value="a" {% if 'a' == question.answer %} selected="selected" {% endif %}>a</option>
                                    <option value="b" {% if 'b' == question.answer %} selected="selected" {% endif %}>b</option>
                                    <option value="c" {% if 'c' == question.answer %} selected="selected" {% endif %}>c</option>
                                    <option value="d" {% if 'd' == question.answer %} selected="selected" {% endif %}>d</option>
                                </select>

                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col">
            
                                <!-- Errors - RANK -->
                                {% if form.quiz.errors %}
                                <label class="alert alert-danger">{{ form.quiz.errors }}</label> {% endif %}
                                <label>Choice1</label>
                                <!-- Form field - RANK -->
                                <input type="text" placeholder="Choice1" class="form-control" name="choice1" id="choice1" value="{{question.choice1}}" required>
            
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col">
            
                                <!-- Errors - RANK -->
                                {% if form.quiz.errors %}
                                <label class="alert alert-danger">{{ form.quiz.errors }}</label> {% endif %}
                                <label>Choice2</label>
                                <!-- Form field - RANK -->
                                <input type="text" placeholder="Choice2" class="form-control" name="choice2" id="choice2" value="{{question.choice2}}" required>
            
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col">
            
                                <!-- Errors - RANK -->
                                {% if form.quiz.errors %}
                                <label class="alert alert-danger">{{ form.quiz.errors }}</label> {% endif %}
                                <label>Choice3</label>
                                <!-- Form field - RANK -->
                                <input type="text" placeholder="Choice3" class="form-control" name="choice3" id="choice3" value="{{question.choice3}}" required>
            
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col">
            
                                <!-- Errors - RANK -->
                                {% if form.quiz.errors %}
                                <label class="alert alert-danger">{{ form.quiz.errors }}</label> {% endif %}
                                <label>Choice4</label>
                                <!-- Form field - RANK -->
                                <input type="text" placeholder="Choice4" class="form-control" name="choice4" id="choice4" value="{{question.choice4}}" required>
            
                            </div>
                        </div>


                        

                        <div class="form-group">
                            <div class="col">

                                <!-- Submit button -->
                                <button type="submit" class="btn btn-primary btn-block" id="submit">Save</button>

                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}